#VRML_SIM R2025a utf8

PROTO Table [
  field SFColor    color        0.8 0.8 0.8
  field SFString   name         "Table"
  field SFVec3f    translation  0 0 0
  field SFRotation rotation     0 0 1 0
  # size.x and size.y act as "length" and "width" scale factors
  # Base tabletop is 2 x 2, so physical length ≈ 2 * size.x, width ≈ 2 * size.y
  field SFVec3f    size         1 1 1
] {
  Transform {
    translation IS translation
    rotation IS rotation
    scale IS size
    children [

      # ───────── Table top (only physical part) ─────────
      Solid {
        name IS name
        translation 0 0 0.409313
        rotation -0.05555304556975655 -0.0555524138092586 -0.9969091174464647 6.719164093958748e-09

        children [
          Shape {
            appearance PBRAppearance {
              baseColor IS color
              roughness 0.4
              metalness 0
            }
            geometry DEF GEOMETRY_TABLETOP Box {
              size 2 2 0.02   # base top, scaled by 'size'
            }
          }
        ]

        boundingObject USE GEOMETRY_TABLETOP
      }

      # ───────── Legs: visual only, no physics ─────────

      Pose {
        translation 1 1 0.199559    # front-right in local coords
        children [
          Shape {
            appearance PBRAppearance {
              roughness 0.4
              metalness 0
            }
            geometry DEF GEOMETRY_LEG Box {
              size 0.05 0.05 0.4
            }
          }
        ]
      }

      Pose {
        translation 1 -1 0.199559   # back-right
        children [
          Shape {
            geometry USE GEOMETRY_LEG
          }
        ]
      }

      Pose {
        translation -1 -1 0.199559  # back-left
        children [
          Shape {
            geometry USE GEOMETRY_LEG
          }
        ]
      }

      Pose {
        translation -1 1 0.199559   # front-left
        children [
          Shape {
            geometry USE GEOMETRY_LEG
          }
        ]
      }

    ]
  }
}
